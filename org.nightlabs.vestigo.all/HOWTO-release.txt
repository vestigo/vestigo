1) Check-out *all* projects in trunk: https://dev.nightlabs.org/svn/private/main/vestigo/trunk/

2) Determine the new version number. Look in a "pom.xml" to see the old version number. For this
example, we assume, our old version is "0.7.0-SNAPSHOT" and our new version thus is "0.7.0".

3) Open the class 'VersionUpdater' in 'org.nightlabs.vestigo.release' and set its field 'newMavenVersion' to
"0.7.0". Save the file and run its main method.

4) Run "mvn clean install" in "org.nightlabs.vestigo.all".

5) Refresh all projects in Eclipse and wait for the build to finish. You might need to right-click => Maven
=> "Update Project Configuration..." on some projects, if they still have error markers.

6) Check-in and wait for Jenkins to build all. Manually trigger the deployment of the stand-alone assemblies
after the main build! Every related project should be run exactly once with the release version number.

7) Create a tag in svn.

8) Repeat all (except for the svn tag creation) for the next SNAPSHOT version, i.e to switch from "0.7.0" to
"0.7.1-SNAPSHOT". SVN trunk should always be in SNAPSHOT mode and only temporarily have a release version.

9) Login as user "nightly" on "eagle.nighthost.de" like this:

# ssh nightly@eagle.nighthost.de

If you do not have your certificate stored on this machine for certificate-based authentication and do not know
the password of the user nightly, then login via another user AND DO NOT FORGET TO SWITCH THE USER!!! This
is essential, because the symlinks that are about to be created/modified must be owned by the correct user!

10) On eagle, go to "/srv/www/nightly/vestigo.nightlabs.com/htdocs" and redirect the symlinks "latest-dev" and
"latest-stable" to the new versions.

11) On eagle, go to "/srv/www/nightly/vestigo.nightlabs.com/htdocs/updates/snapshots" and edit the two
files "compositeArtifacts.xml" and "compositeContent.xml". Add a "<child ... />" element and increment
the "size" attribute of "<children ...>".

12) On eagle, go to "/srv/www/nightly/vestigo.nightlabs.com/htdocs/updates/releases" and repeat the same
you did for the snapshots again for the releases. 

13) Edit "${workspace}/org.nightlabs.vestigo.all/src/site/apt/releases/index.apt" and 
"${workspace}/org.nightlabs.vestigo.all/src/site/de/apt/releases/index.apt" to add the new release.
